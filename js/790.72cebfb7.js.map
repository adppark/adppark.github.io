{"version":3,"file":"js/790.72cebfb7.js","mappings":"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","sources":["webpack://doctor_bot/./src/utils/api.js","webpack://doctor_bot/./src/views/AccountManagePage.vue","webpack://doctor_bot/./src/views/AccountManagePage.vue?706d"],"sourcesContent":["import axios from 'axios';\nimport config from '@/config/config';\n\nconst api = axios.create({\n  baseURL: config.apiBaseUrl,\n});\n\nexport default api;","<template>\n  <div class=\"account-manage-container\">\n    <h1>Account Settings</h1>\n    <div v-if=\"isLoading\" class=\"loading\">\n      <img :src=\"require('@/assets/loading.gif')\" alt=\"Loading\" />\n    </div>\n    \n    <template v-else>\n      <div v-if=\"errorMessage\" class=\"error-message\">\n        {{ errorMessage }}\n      </div>\n      <div class=\"form-group\">\n        <label for=\"email\">Email:</label>\n        <input type=\"email\" id=\"email\" v-model=\"email\" disabled>\n      </div>\n      <div class=\"form-group\">\n        <label for=\"username\">Username:</label>\n        <input type=\"text\" id=\"username\" v-model=\"userName\" disabled>\n      </div>\n      <div class=\"form-group\">\n        <label for=\"license\">Doctor License Number:</label>\n        <input type=\"text\" id=\"license\" v-model=\"licenseNumber\" placeholder=\"Enter your license number\">\n      </div>\n      <div class=\"button-group\">\n        <button @click=\"saveChanges\" class=\"primary-button\" :disabled=\"isSaving\">\n          {{ isSaving ? 'Saving...' : 'Save Changes' }}\n        </button>\n        <button v-if=\"licenseNumber\" @click=\"goToChatbot\" class=\"secondary-button\">Back to Chatbot</button>\n        <button @click=\"logout\" class=\"logout-button\">Logout</button>\n      </div>\n    </template>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { auth } from '@/firebase';\nimport { onAuthStateChanged, signOut } from \"firebase/auth\";\nimport api from '@/utils/api';\n\nexport default {\n  setup() {\n    const router = useRouter();\n    const email = ref('');\n    const userName = ref('');\n    const licenseNumber = ref('');\n    const errorMessage = ref('');\n    const isSaving = ref(false);\n    const isLoading = ref(true);\n\n    onMounted(() => {\n      onAuthStateChanged(auth, async (user) => {\n        if (user) {\n          email.value = user.email;\n          userName.value = user.displayName || 'N/A';\n          try {\n            const response = await api.get('/api/check-license', { params: { email: user.email } });\n            licenseNumber.value = response.data.license_number || '';\n          } catch (error) {\n            console.error('Error fetching license number:', error);\n            errorMessage.value = 'Failed to fetch license information. Please try again later.';\n          } finally {\n            isLoading.value = false;\n          }\n        } else {\n          router.push('/login');\n        }\n      });\n    });\n\n    const saveChanges = async () => {\n      errorMessage.value = '';\n      isSaving.value = true;\n      try {\n        await api.post('/api/regist_user_info', {\n          email: email.value,\n          user_name: userName.value,\n          license_number: licenseNumber.value\n        });\n        alert('변경사항을 저장했습니다.')\n        router.push('/account-settings');\n      } catch (error) {\n        console.error('Error saving user information:', error);\n        errorMessage.value = 'Failed to save changes. Please try again later.';\n      } finally {\n        isSaving.value = false;\n      }\n    };\n\n    const goToChatbot = () => {\n      router.push('/chatbot');\n    };\n\n    const logout = async () => {\n      try {\n        await signOut(auth);\n        router.push('/login');\n      } catch (error) {\n        console.error('Error signing out:', error);\n        errorMessage.value = 'Failed to log out. Please try again.';\n      }\n    };\n\n    return {\n      email,\n      userName,\n      licenseNumber,\n      errorMessage,\n      isSaving,\n      isLoading,\n      saveChanges,\n      goToChatbot,\n      logout\n    };\n  }\n};\n</script>\n<style scoped>\n.account-manage-container {\n  max-width: 500px;\n  margin: 0 auto;\n  padding: 20px;\n}\n\n.form-group {\n  display: flex;\n  justify-content: center;\n  justify-items: center;\n  margin-bottom: 20px;\n  flex-direction: column;\n}\n\n.form-group label {\n  display: block;\n  margin-bottom: 8px;\n  margin-left: 5px;;\n}\n\n.form-group input {\n  display: flex;\n  width: 90%;\n  padding: 8px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n}\n\n.button-group {\n  display: flex;\n  justify-content: space-between;\n  margin-top: 20px;\n}\n\n.primary-button, .secondary-button, .logout-button {\n  padding: 10px 20px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.primary-button {\n  background-color: #4285F4;\n  color: white;\n}\n\n.secondary-button {\n  background-color: #6c757d;\n  color: white;\n}\n\n.logout-button {\n  background-color: #dc3545;\n  color: white;\n}\n\n.primary-button:hover {\n  background-color: #357ae8;\n}\n\n.secondary-button:hover {\n  background-color: #5a6268;\n}\n\n.logout-button:hover {\n  background-color: #c82333;\n}\n.error-message {\n  color: red;\n  margin-bottom: 15px;\n}\n\n.loading {\n  display: flex;\n  justify-content: center;\n  justify-items: center;\n  width:100%;\n  height: 100%;\n  background-color: rgba(255, 255, 255, 0.496);\n}\n\n.loading img {\n  margin-top: 70px;;\n  width: 30px;\n  height: 30px;\n}\n</style>","import { render } from \"./AccountManagePage.vue?vue&type=template&id=07a6ddc1&scoped=true\"\nimport script from \"./AccountManagePage.vue?vue&type=script&lang=js\"\nexport * from \"./AccountManagePage.vue?vue&type=script&lang=js\"\n\nimport \"./AccountManagePage.vue?vue&type=style&index=0&id=07a6ddc1&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-07a6ddc1\"]])\n\nexport default __exports__"],"names":["api","axios","create","baseURL","config","apiBaseUrl","class","_createElementVNode","key","for","_createElementBlock","_hoisted_1","_hoisted_2","$setup","isLoading","_hoisted_3","src","require","alt","_hoisted_4","_Fragment","errorMessage","_hoisted_5","_toDisplayString","_createCommentVNode","_hoisted_6","_hoisted_7","type","id","_cache","$event","email","disabled","_hoisted_8","_hoisted_9","userName","_hoisted_10","_hoisted_11","licenseNumber","placeholder","_hoisted_12","onClick","args","saveChanges","isSaving","_hoisted_13","goToChatbot","logout","setup","router","useRouter","ref","onMounted","onAuthStateChanged","auth","async","user","value","displayName","response","get","params","data","license_number","error","console","push","post","user_name","alert","signOut","__exports__","render"],"sourceRoot":""}